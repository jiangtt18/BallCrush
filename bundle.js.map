{"version":3,"sources":["webpack:///webpack/bootstrap 1cdef3849dadff75eef6","webpack:///./lib/bubblecrush.js"],"names":["ctx","canvas","document","getElementById","getContext","bubbles","timeCount","moves","moveCount","score","animationMoveTime","images","rose","orange","lemon","orchard","lime","grapefruit","blue","againBtn","scoreTitle","timeBtn","basicBtn","startPosX","startPosY","sound","bgm","loop","background","body","description","clouds","clouds2","title","right","left","mute","mic","timerMode","canPlay","onclick","setJS","pause","play","initialize","initBubbleBoard","initBubbleColor","initCanvas","setInterval","checkBubbleStatus","gameOver","clearRect","style","display","addElement","newDiv","createElement","newContent","createTextNode","setAttribute","appendChild","changePlayBackRate","length","console","log","i","update","filter","bubble","animationInterval","setRemoveMark","fall","draw","resetGame","setHorizontalRemoveMark","setVerticalRemoveMark","pressMouse","e","offsetX","offsetY","bubbleX","Math","floor","bubbleY","curBubble","animateOnClick","releaseMouse","oldX","oldY","endPosX","endPosY","animateUnClick","newPos","calcNewPos","newX","newY","moving","swapColorsAndPos","fileName","ele","type","src","setTimeout","resetBackground","Bubble","x","y","x1","y1","x2","y2","width","height","getY","setBubbleProp","colorIdx","push","foundcolor","randomIndex","getRandomNum","hasStraight3colors","onmousedown","onmouseup","playbackRate","setMoves","clearInterval","currentTime","bringBackBackground","currentColorIdx","numSameColor","nextColorIdx","remove","newIdx","resetMark","playSound","n","random","bottomBubble","middleBubble","leftBubble","idx","drawImage","font","textAlign","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","sec","fillText","oldBubble","newBubble","oldColorIdx","xDistance","yDistance","abs","classList","add"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1cdef3849dadff75eef6","var ctx;\nlet canvas = document.getElementById('canvas');\nctx = canvas.getContext('2d');\nconst bubbles = [];\nvar timeCount;\nvar moves = [];\nvar moveCount = 0;\nvar score;\nvar animationMoveTime;\nconst images = [rose, orange, lemon, orchard, lime, grapefruit, blue];\nvar againBtn = document.getElementById('againBtn');\nvar scoreTitle = document.getElementById('score');\nvar timeBtn = document.getElementById('timeBtn');\nvar basicBtn = document.getElementById('basicBtn');\nvar startPosX = null;\nvar startPosY = null;\nvar sound = document.getElementById('sound');\nvar bgm = document.getElementById('bgm');\nbgm.loop = true;\nvar background = document.getElementById('bg');\nvar body = document.getElementById('body');\nvar description = document.getElementById('description');\nvar clouds = document.getElementById(\"clouds1\");\nvar clouds2 = document.getElementById(\"clouds2\");\nvar title = document.getElementById(\"title\");\nvar right = document.getElementById(\"right\");\nvar left = document.getElementById(\"left\");\nvar mute = document.getElementById(\"mute\");\nvar mic = document.getElementById(\"mic\");\nvar timerMode = false;\nvar canPlay = true;\n\n// *********************************************************************\n// Main functions\nbasicBtn.onclick = function(){\n  setJS('');\n};\n\n// var countDown = document.getElementById('countDown');\ntimeBtn.onclick = function(){\n  setJS('');\n  timerMode = true;\n\n};\n\nmute.onclick = function(){\n  canPlay = false;\n  bgm.pause();\n};\n\n mic.onclick = function(){\n   canPlay = true;\n   bgm.play();\n };\n\nfunction initialize(){\n  // startBtn.style.display = 'none';\n  moveCount = 100;\n  if (timerMode){\n    timeCount = 60 * 1000;\n  }\n  score = 0;\n  initBubbleBoard();\n  initBubbleColor();\n  initCanvas();\n\n  animationMoveTime = setInterval(checkBubbleStatus, 25);//swapping motion time\n  // call continuesly . will always run down from 25 animationInteval. but will control the run down speed\n  bgm.play();\n  // console.log(animationMoveTime);\n}\n\nfunction gameOver(){\n  ctx.clearRect(0,0,600,700);\n  againBtn.style.display = 'inline';\n  scoreTitle.style.display = 'inline';\n  addElement();\n}\n\nfunction addElement () {\n  var newDiv = document.createElement(\"h2\");\n  var newContent = document.createTextNode(score);\n  newDiv.setAttribute(\"id\", \"finalScore\");\n  newDiv.appendChild(newContent);\n  scoreTitle.appendChild(newDiv);\n}\n\n// ********************************************************************\n// Bubble Move Logic\n\nfunction checkBubbleStatus(){\n  if(timerMode){\n    timeCount -= 25;\n    changePlayBackRate();\n  }\n\n  if(moves.length > 0){\n     console.log(moves);\n    for(let i = 0; i < moves.length; i++){\n      moves[i].update()\n    }\n\n    moves = moves.filter(\n      function(bubble) {\n        return bubble.animationInterval != 0;\n      }\n    );\n\n    if(moves.length == 0) {\n      setRemoveMark();\n      fall();\n    }\n  }\n\n  draw();\n\n  if(timerMode) {\n    if(moves.length == 0 && timeCount <= 0) {\n      resetGame();\n    }\n  } else {\n    if(moves.length == 0 && moveCount == 0) {\n      resetGame();\n    }\n  }\n}\n\n\n\nfunction setRemoveMark(){\n  setHorizontalRemoveMark();\n  setVerticalRemoveMark();\n}\n\nfunction pressMouse(e) {\n  // curBubble.animateUnClick();\n  startPosX = e.offsetX;\n  startPosY = e.offsetY;\n  // console.log(startPosY);\n  // console.log(startPosX);\n  let bubbleX = Math.floor(startPosX / 60);\n  let bubbleY = Math.floor((startPosY - 100) / 60);\n  let curBubble = bubbles[bubbleX][bubbleY];\n  curBubble.animateOnClick();\n}\n\nfunction releaseMouse(e){\n  let oldX = Math.floor(startPosX / 60);\n  let oldY = Math.floor((startPosY - 100) / 60);\n  // console.log('bubbleX:' + oldX);\n  // console.log('bubbleY:' + oldY);\n  let endPosX = e.offsetX;\n  let endPosY = e.offsetY;\n  let curBubble = bubbles[Math.floor(endPosX/60)][Math.floor((endPosY-100)/60)];\n  // console.log(endPosX);\n  // console.log(endPosY);\n  curBubble.animateUnClick();\n  let newPos = calcNewPos(startPosX, endPosX, startPosY, endPosY, oldX, oldY);\n  let newX = newPos[0];\n  let newY = newPos[1];\n  //\n  // console.log('bubbleX:' + newX);\n  // console.log('bubbleY:' + newY);\n  // debugger;\n  if(bubbles[oldX][oldY].moving || bubbles[newX][newY].moving || animationMoveTime == null) {\n    // let it drops\n    return\n  }\n  swapColorsAndPos(oldX, oldY, newX, newY); // drop to the ideal position. stops.\n  moveCount--;\n  draw();\n}\n\n\n// **********************************************************\n// help method starts here\n\nfunction setJS(fileName) {\n  var ele = document.createElement('script');\n  ele.type = 'text/javascript';\n  ele.src = fileName;\n  document.body.appendChild(ele);\n\n  setTimeout(function() {\n    resetBackground();\n    initialize();\n  }, 200);\n}\n\n\nfunction Bubble(x, y) {\n  // assign bubble\n  this.x1 = x;\n  this.y1 = y;\n  this.animationInterval = 0;\n\n  this.x2 = x;\n  this.y2 = y;\n  this.width = 40;\n  this.height = 40;\n\n  this.getY = function(){\n    // move the fruit gradually\n    return (this.y1 + (this.y2-this.y1) * (this.animationInterval)/25) * 60 + 100;\n  };\n\n  this.setBubbleProp = function (x2, y2, colorIdx){\n    this.x2 = x2;\n    this.y2 = y2;\n    this.colorIdx = colorIdx;\n    this.moving = true;\n    this.animationInterval = 25;// cnotrol the time between drop and swap\n    moves.push(this);\n  };\n\n  this.animateOnClick = function(){\n    this.width = 45;\n    this.height =  45;\n  };\n\n  this.animateUnClick = function(){\n    this.width = 40;\n    this.height =  40;\n  };\n  this.update = function(){\n    this.width = 40;\n    this.height =  40;\n    this.animationInterval--;\n    // console.log(this.animationInterval);\n    if(this.animationInterval <= 0) {\n      this.moving = false;\n    }\n  };\n\n}\n\nfunction initBubbleBoard(){\n  for(let x = 0; x < 8; x++) {\n    bubbles[x] = [];\n    for(let y = 0; y < 8; y++) {\n      bubbles[x][y] = new Bubble(x, y);\n    }\n  }\n}\n\nfunction initBubbleColor(){\n  for(let x = 0; x < 8; x ++){\n    for(let y = 0; y < 8; y ++){\n      let foundcolor = false;\n      while(!foundcolor){\n        foundcolor = false;\n        let randomIndex = getRandomNum(6);\n        if(!hasStraight3colors(x, y, randomIndex)){\n          bubbles[x][y].colorIdx = randomIndex;\n          foundcolor = true;\n        }\n      }\n    }\n  }\n}\n\nfunction initCanvas(){\n  canvas.onmousedown = pressMouse;\n  canvas.onmouseup = releaseMouse;\n}\n\nfunction changePlayBackRate(){\n  if (bgm.playbackRate == 1 && timeCount < 5000) {\n      bgm.pause();\n      bgm.playbackRate = 1.5;\n      if (canPlay) {bgm.play();}\n  }\n}\nfunction setMoves(){\n\n}\nfunction resetGame(){\n  clearInterval(animationMoveTime);\n  animationMoveTime = null;\n  bgm.pause();\n  bgm.currentTime = 0;\n\n  setTimeout(gameOver, 0);\n  bringBackBackground();\n  // gameOver();\n}\n\n\nfunction setHorizontalRemoveMark(){\n  for(let x = 0; x < 8; x++){\n    let currentColorIdx = bubbles[x][0].colorIdx;\n    let numSameColor = 1;\n    for(let y = 1; y < 8; y ++){\n      let nextColorIdx = bubbles[x][y].colorIdx;\n      if(currentColorIdx == nextColorIdx) {\n        numSameColor ++;\n        if ( numSameColor >= 3){\n          bubbles[x][y-2].remove = true\n          bubbles[x][y-1].remove = true\n          bubbles[x][y].remove = true\n        }\n      } else {\n        currentColorIdx = nextColorIdx;\n        numSameColor = 1;\n      }\n    }\n  }\n}\n\nfunction setVerticalRemoveMark(){\n  for(let y = 0; y < 8; y++){\n    let currentColorIdx = bubbles[0][y].colorIdx;\n    var numSameColor = 1;\n    for(let x = 1; x < 8; x++){\n      let nextColorIdx = bubbles[x][y].colorIdx;\n      if(currentColorIdx == nextColorIdx) {\n        numSameColor++;\n        if(numSameColor >= 3){\n          bubbles[x-2][y].remove = true;\n          bubbles[x-1][y].remove = true;\n          bubbles[x][y].remove = true;\n        }\n      } else {\n        currentColorIdx = nextColorIdx;\n        numSameColor = 1;\n      }\n    }\n  }\n}\n\n\n\nfunction fall(){\n  for(let x = 0; x < 8; x++){\n    for(let y = 7, newIdx = 7; y >= 0; y--, newIdx--){\n      while (newIdx >= 0){\n        if (bubbles[x][newIdx].remove){\n          newIdx--;\n        } else {\n          break;\n        }\n      }\n\n      if(y != newIdx) {\n        var colorIdx = (newIdx >= 0) ? bubbles[x][newIdx].colorIdx : getRandomNum(6);\n        bubbles[x][y].setBubbleProp(x,newIdx,colorIdx);\n      }\n    }\n  }\n\n  resetMark();\n}\n\n\nfunction resetMark(){\n  if (canPlay){ var playSound = true;}\n  for(let x = 0; x < 8; x++){\n    for(let y = 0; y < 8; y++) {\n      if(bubbles[x][y].remove){\n        bubbles[x][y].remove = false;\n        score += 100;\n        if(playSound){\n          sound.pause();\n          sound.currentTime = 0;\n          sound.play();\n          playSound = false;\n        }\n      }\n    }\n  }\n}\n\n\nfunction getRandomNum(n){\n  return  Math.floor(Math.random() * n);\n}\n\n\nfunction hasStraight3colors(x,y,curBubble){\n  let hasStraight3colors = false;\n  if(y > 1) {\n    let bottomBubble = bubbles[x][y-2].colorIdx;\n    let middleBubble = bubbles[x][y-1].colorIdx;\n    if(bottomBubble == middleBubble && middleBubble == curBubble){\n      hasStraight3colors = true;\n    }\n  }\n\n  if(x > 1) {\n    let leftBubble = bubbles[x-2][y].colorIdx;\n    let middleBubble = bubbles[x-1][y].colorIdx;\n    if (leftBubble == middleBubble && middleBubble == curBubble){\n      hasStraight3colors = true;\n    }\n  }\n\n  return hasStraight3colors;\n}\n\n\nfunction draw() {\n  ctx.clearRect(0,0,500,600);\n  for(let x = 0; x < 8; x ++) {\n    for(let y = 0; y < 8; y ++) {\n      let idx = bubbles[x][y].colorIdx;\n      ctx.drawImage(images[idx],\n      x * 60 + 8, bubbles[x][y].getY(), bubbles[x][y].width, bubbles[x][y].height);\n    }\n  }\n\n  ctx.font = 'bold 20px Comic Sans MS';\n  ctx.textAlign = 'center';\n  ctx.shadowColor = '#pink';\n  ctx.shadowBlur = 20;\n  ctx.shadowOffsetX = 15;\n  ctx.shadowOffsetY = 15;\n\n  if(timerMode) {\n  var sec = Math.floor(timeCount / 1000);\n\n\n  if (sec < 0) {\n      sec = '00';\n  } else if (sec < 10) {\n      sec = '0' + sec;\n  }\n  ctx.fillText('Time Left : ' + sec, 100, 50);\n} else {\n  ctx.fillText('Moves Left:'+ moveCount, 100, 50);\n\n}\n\nctx.fillText('Score :' + score, 380, 50);\n\n}\n\nfunction swapColorsAndPos(oldX, oldY, newX, newY){\n  let oldBubble = bubbles[oldX][oldY];\n  let newBubble = bubbles[newX][newY];\n  let oldColorIdx = oldBubble.colorIdx;\n  oldBubble.setBubbleProp(newX, newY, newBubble.colorIdx);\n  newBubble.setBubbleProp(oldX, oldY, oldColorIdx);\n\n}\n\nfunction calcNewPos (startPosX, endPosX, startPosY, endPosY, oldX, oldY) {\n  let xDistance = endPosX - startPosX;\n  let yDistance = endPosY - startPosY;\n  let x = oldX;\n  let y = oldY;\n  if(Math.abs(xDistance) == 0 && Math.abs(yDistance) == 0){\n    return;\n  } else if (Math.abs(endPosX - startPosX) > Math.abs(yDistance)) {\n    x += (xDistance > 0) ? 1 : -1;\n  } else {\n    y += (yDistance > 0) ? 1 : -1;\n  }\n  return [x,y];\n}\n\nfunction resetBackground(){\n  basicBtn.style.display = 'none';\n  timeBtn.style.display = 'none';\n  description.style.display= 'none';\n  background.style.display = 'none';\n  clouds.style.display = 'none';\n  clouds2.style.display = 'none';\n  title.style.display = 'none';\n  right.style.display = 'flex';\n  left.style.display = 'flex';\n  body.classList.add('newBg');\n}\n\n\nfunction bringBackBackground(){\n\n  description.style.display= 'inline';\n  body.classList.remove('newBg');\n  background.style.display = 'block';\n  clouds.style.display = 'inline';\n  clouds2.style.display = 'inline';\n  title.style.display = 'inline';\n  right.style.display = 'none';\n  left.style.display = 'none';\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bubblecrush.js"],"sourceRoot":""}